
> rmit-ecommerce@1.0.0 e2e:external
> cross-env E2E_EXTERNAL=1 playwright test


Running 4 tests using 3 workers

  âœ“  2 [chromium] â€º e2e/shop.spec.js:8:3 â€º Shop page â€º loads and lists products (1.7s)
  âœ“  3 [chromium] â€º e2e/cart.spec.js:29:3 â€º Cart + Checkout â€º unauthenticated: add to cart then proceed to checkout -> redirects to login (2.9s)
  âœ“  4 [chromium] â€º e2e/cart.spec.js:46:3 â€º Cart + Checkout â€º authenticated: add to cart then place order -> success page (2.9s)
  âœ˜  1 [chromium] â€º e2e/auth.spec.js:8:3 â€º Auth flow â€º login and logout (11.1s)


  1) [chromium] â€º e2e/auth.spec.js:8:3 â€º Auth flow â€º login and logout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error: [2mexpect([22m[31mpage[39m[2m).[22mtoHaveURL[2m([22m[32mexpected[39m[2m)[22m failed

    Expected pattern: [32m/\/dashboard/[39m
    Received string:  [31m"http://client:8080/login"[39m
    Timeout: 10000ms

    Call log:
    [2m  - Expect "toHaveURL" with timeout 10000ms[22m
    [2m    14 Ã— unexpected value "http://client:8080/login"[22m


      24 |
      25 |     // Expect redirect to dashboard
    > 26 |     await expect(page).toHaveURL(/\/dashboard/);
         |                        ^
      27 |
      28 |     // Logout (stable): clear token and verify protected route redirects to /login
      29 |     await page.waitForLoadState('networkidle');
        at /work/e2e/auth.spec.js:26:24

    attachment #1: screenshot (image/png) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-Auth-flow-login-and-logout-chromium/test-failed-1.png
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    attachment #2: video (video/webm) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    test-results/auth-Auth-flow-login-and-logout-chromium/video.webm
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

    Error Context: test-results/auth-Auth-flow-login-and-logout-chromium/error-context.md

  1 failed
    [chromium] â€º e2e/auth.spec.js:8:3 â€º Auth flow â€º login and logout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  3 passed (14.4s)
